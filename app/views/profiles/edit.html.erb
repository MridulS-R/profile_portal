<h1 class="text-2xl font-bold mb-4">Edit Profile</h1>

<div class="grid md:grid-cols-3 gap-6">
  <div class="md:col-span-2">
    <%= form_with model: @user, url: profile_path, method: :patch, class: "space-y-4" do |f| %>
      <div>
        <%= f.label :name, class: "block text-sm mb-1" %>
        <%= f.text_field :name, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
      </div>
      <div>
        <%= f.label :github_username, class: "block text-sm mb-1" %>
        <%= f.text_field :github_username, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
      </div>
      <div>
        <%= f.label :bio, class: "block text-sm mb-1" %>
        <%= f.text_area :bio, rows: 4, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
      </div>
      <div>
        <%= f.label :website, class: "block text-sm mb-1" %>
        <%= f.url_field :website, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
      </div>
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <%= f.label :avatar_url, class: "block text-sm mb-1" %>
          <%= f.url_field :avatar_url, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
        </div>
        <div>
          <%= f.label :banner_url, class: "block text-sm mb-1" %>
          <%= f.url_field :banner_url, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
        </div>
      </div>
      <div class="grid md:grid-cols-2 gap-4">
        <div>
          <%= f.label :github_url, class: "block text-sm mb-1" %>
          <%= f.url_field :github_url, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
        </div>
        <div>
          <%= f.label :twitter_url, class: "block text-sm mb-1" %>
          <%= f.url_field :twitter_url, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
        </div>
        <div>
          <%= f.label :linkedin_url, class: "block text-sm mb-1" %>
          <%= f.url_field :linkedin_url, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
        </div>
        <div>
          <%= f.label :youtube_url, class: "block text-sm mb-1" %>
          <%= f.url_field :youtube_url, class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
        </div>
      </div>

      <div class="flex gap-3">
        <%= f.submit "Save", class: "px-3 py-2 bg-blue-600 rounded" %>
        <%= link_to "Cancel", public_profile_path(@user), class: "px-3 py-2 bg-gray-800 border border-gray-700 rounded" %>
      </div>
    <% end %>
  </div>

  <div>
    <div class="rounded border border-gray-800 p-4 bg-black/30">
      <h2 class="font-semibold mb-3">GitHub</h2>
      <p class="text-sm text-gray-400 mb-3">Set your username, then sync projects.</p>
      <%= button_to "Sync GitHub", sync_github_path, method: :post, class: "px-3 py-2 bg-blue-600 rounded w-full" %>
    </div>

    <div class="rounded border border-gray-800 p-4 bg-black/30 mt-6">
      <h2 class="font-semibold mb-3">Custom Domains</h2>
      <% if @domains.any? %>
        <ul class="space-y-2 mb-4">
          <% @domains.each do |d| %>
            <li class="flex items-center justify-between bg-gray-900 border border-gray-800 rounded p-2">
              <span><%= d.host %></span>
              <%= button_to "Remove", domain_path(d), method: :delete, class: "px-2 py-1 bg-red-700/80 rounded" %>
            </li>
          <% end %>
        </ul>
      <% else %>
        <p class="text-sm text-gray-400 mb-4">No domains connected.</p>
      <% end %>
      <%= form_with url: domains_path, method: :post, class: "space-y-3" do |f| %>
        <div>
          <label class="block text-sm mb-1">Host</label>
          <%= text_field_tag :host, nil, placeholder: "example.yourapp.com", class: "w-full p-2 bg-gray-900 border border-gray-800 rounded" %>
        </div>
        <div class="flex gap-2">
          <%= submit_tag "Add Domain", class: "px-3 py-2 bg-blue-600 rounded" %>
          <%= link_to "How to connect", connect_domain_path, class: "px-3 py-2 bg-gray-800 border border-gray-700 rounded" %>
        </div>
      <% end %>
    </div>
  </div>
</div>

